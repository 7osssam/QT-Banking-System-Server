@startuml
participant "LoginRequest" as C_0001633855435523401023
[-> C_0001633855435523401023 : execute(const QJsonObject &,QMutex &)
activate C_0001633855435523401023
loop false
alt !isDBConnectionValid(dbManager)
participant "Request" as C_0004354387044733077778
C_0001633855435523401023 -> C_0004354387044733077778 : **[**isDBConnectionValid(DB::DatabaseManager *)**]**
activate C_0004354387044733077778
alt !DB::DatabaseManager::checkConnection(dbError)
participant "DB::DatabaseManager" as C_0013573387592128700325
C_0004354387044733077778 -> C_0013573387592128700325 : **[**__checkConnection(QString &)__**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __createInstance(bool,bool,QString *)__
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : DatabaseManager()
activate C_0013573387592128700325
deactivate C_0013573387592128700325
alt db->init(dbConfig.host, dbConfig.port, dbConfig.username, dbConfig.password, dbConfig.dbName, checkDBName, newConnection)
C_0013573387592128700325 -> C_0013573387592128700325 : **[**init(const QString &,int,const QString &,const QString &,const QString &,bool,bool)**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //bool//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
alt err != nullptr
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0004354387044733077778 : //bool//
deactivate C_0013573387592128700325
end
alt !DB::DatabaseManager::checkConnection(dbError)
C_0004354387044733077778 -> C_0013573387592128700325 : **[**__checkConnection(QString &)__**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __createInstance(bool,bool,QString *)__
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : DatabaseManager()
activate C_0013573387592128700325
deactivate C_0013573387592128700325
alt db->init(dbConfig.host, dbConfig.port, dbConfig.username, dbConfig.password, dbConfig.dbName, checkDBName, newConnection)
C_0013573387592128700325 -> C_0013573387592128700325 : **[**init(const QString &,int,const QString &,const QString &,const QString &,bool,bool)**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //bool//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
alt err != nullptr
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0004354387044733077778 : //bool//
deactivate C_0013573387592128700325
end
alt !DB::DatabaseManager::checkConnection(dbError)
C_0004354387044733077778 -> C_0013573387592128700325 : **[**__checkConnection(QString &)__**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __createInstance(bool,bool,QString *)__
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : DatabaseManager()
activate C_0013573387592128700325
deactivate C_0013573387592128700325
alt db->init(dbConfig.host, dbConfig.port, dbConfig.username, dbConfig.password, dbConfig.dbName, checkDBName, newConnection)
C_0013573387592128700325 -> C_0013573387592128700325 : **[**init(const QString &,int,const QString &,const QString &,const QString &,bool,bool)**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //bool//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
alt err != nullptr
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0004354387044733077778 : //bool//
deactivate C_0013573387592128700325
end
C_0004354387044733077778 --> C_0001633855435523401023 : //bool//
deactivate C_0004354387044733077778
note over C_0001633855435523401023
comment
end note
C_0001633855435523401023 -> C_0004354387044733077778 : CreateDBConnectionError(QJsonObject &,QJsonObject &)
activate C_0004354387044733077778
C_0004354387044733077778 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0004354387044733077778
end
C_0001633855435523401023 -> C_0013573387592128700325 : select(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : table(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : where(const QString &,const QVariant &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : exec()
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
alt query.exec(getSelectQuery())
C_0013573387592128700325 -> C_0013573387592128700325 : **[**getSelectQuery(const QString &)**]**
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QString//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : postQuery(QSqlQuery *)
activate C_0013573387592128700325
deactivate C_0013573387592128700325
participant "DB::DbResult" as C_0006960484039840119316
C_0013573387592128700325 -> C_0006960484039840119316 : DbResult(const QList<QVariant> &)
activate C_0006960484039840119316
deactivate C_0006960484039840119316
C_0013573387592128700325 --> C_0001633855435523401023 : //DbResult//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0006960484039840119316 : first() const
activate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : data(int) const
activate C_0006960484039840119316
alt isEmpty() || pos < 0 || pos >= size()
C_0006960484039840119316 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //bool//
deactivate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : **[**size() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //int//
deactivate C_0006960484039840119316
end
C_0006960484039840119316 --> C_0006960484039840119316 : //QJsonObject//
deactivate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0006960484039840119316
C_0001633855435523401023 -> C_0006960484039840119316 : first() const
activate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : data(int) const
activate C_0006960484039840119316
alt isEmpty() || pos < 0 || pos >= size()
C_0006960484039840119316 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //bool//
deactivate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : **[**size() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //int//
deactivate C_0006960484039840119316
end
C_0006960484039840119316 --> C_0006960484039840119316 : //QJsonObject//
deactivate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0006960484039840119316
alt result.isEmpty()
C_0001633855435523401023 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //bool//
deactivate C_0006960484039840119316
C_0001633855435523401023 -> C_0004354387044733077778 : CreateErrorResponse(QJsonObject &,QJsonObject &,QString)
activate C_0004354387044733077778
C_0004354387044733077778 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0004354387044733077778
end
C_0001633855435523401023 -> C_0013573387592128700325 : select(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : table(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : where(const QString &,const QVariant &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : exec()
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
alt query.exec(getSelectQuery())
C_0013573387592128700325 -> C_0013573387592128700325 : **[**getSelectQuery(const QString &)**]**
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QString//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : postQuery(QSqlQuery *)
activate C_0013573387592128700325
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0006960484039840119316 : DbResult(const QList<QVariant> &)
activate C_0006960484039840119316
deactivate C_0006960484039840119316
C_0013573387592128700325 --> C_0001633855435523401023 : //DbResult//
deactivate C_0013573387592128700325
alt result.first().value("password").toString() != password
C_0001633855435523401023 -> C_0006960484039840119316 : **[**first() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : data(int) const
activate C_0006960484039840119316
alt isEmpty() || pos < 0 || pos >= size()
C_0006960484039840119316 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //bool//
deactivate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : **[**size() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //int//
deactivate C_0006960484039840119316
end
C_0006960484039840119316 --> C_0006960484039840119316 : //QJsonObject//
deactivate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0006960484039840119316
C_0001633855435523401023 -> C_0004354387044733077778 : CreateErrorResponse(QJsonObject &,QJsonObject &,QString)
activate C_0004354387044733077778
C_0004354387044733077778 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0004354387044733077778
end
end
loop false
alt !isDBConnectionValid(dbManager)
C_0001633855435523401023 -> C_0004354387044733077778 : **[**isDBConnectionValid(DB::DatabaseManager *)**]**
activate C_0004354387044733077778
alt !DB::DatabaseManager::checkConnection(dbError)
C_0004354387044733077778 -> C_0013573387592128700325 : **[**__checkConnection(QString &)__**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __createInstance(bool,bool,QString *)__
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : DatabaseManager()
activate C_0013573387592128700325
deactivate C_0013573387592128700325
alt db->init(dbConfig.host, dbConfig.port, dbConfig.username, dbConfig.password, dbConfig.dbName, checkDBName, newConnection)
C_0013573387592128700325 -> C_0013573387592128700325 : **[**init(const QString &,int,const QString &,const QString &,const QString &,bool,bool)**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //bool//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
alt err != nullptr
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0004354387044733077778 : //bool//
deactivate C_0013573387592128700325
end
alt !DB::DatabaseManager::checkConnection(dbError)
C_0004354387044733077778 -> C_0013573387592128700325 : **[**__checkConnection(QString &)__**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __createInstance(bool,bool,QString *)__
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : DatabaseManager()
activate C_0013573387592128700325
deactivate C_0013573387592128700325
alt db->init(dbConfig.host, dbConfig.port, dbConfig.username, dbConfig.password, dbConfig.dbName, checkDBName, newConnection)
C_0013573387592128700325 -> C_0013573387592128700325 : **[**init(const QString &,int,const QString &,const QString &,const QString &,bool,bool)**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //bool//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
alt err != nullptr
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0004354387044733077778 : //bool//
deactivate C_0013573387592128700325
end
alt !DB::DatabaseManager::checkConnection(dbError)
C_0004354387044733077778 -> C_0013573387592128700325 : **[**__checkConnection(QString &)__**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __createInstance(bool,bool,QString *)__
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : DatabaseManager()
activate C_0013573387592128700325
deactivate C_0013573387592128700325
alt db->init(dbConfig.host, dbConfig.port, dbConfig.username, dbConfig.password, dbConfig.dbName, checkDBName, newConnection)
C_0013573387592128700325 -> C_0013573387592128700325 : **[**init(const QString &,int,const QString &,const QString &,const QString &,bool,bool)**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //bool//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
alt err != nullptr
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0004354387044733077778 : //bool//
deactivate C_0013573387592128700325
end
C_0004354387044733077778 --> C_0001633855435523401023 : //bool//
deactivate C_0004354387044733077778
note over C_0001633855435523401023
comment
end note
C_0001633855435523401023 -> C_0004354387044733077778 : CreateDBConnectionError(QJsonObject &,QJsonObject &)
activate C_0004354387044733077778
C_0004354387044733077778 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0004354387044733077778
end
C_0001633855435523401023 -> C_0013573387592128700325 : select(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : table(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : where(const QString &,const QVariant &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : exec()
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
alt query.exec(getSelectQuery())
C_0013573387592128700325 -> C_0013573387592128700325 : **[**getSelectQuery(const QString &)**]**
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QString//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : postQuery(QSqlQuery *)
activate C_0013573387592128700325
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0006960484039840119316 : DbResult(const QList<QVariant> &)
activate C_0006960484039840119316
deactivate C_0006960484039840119316
C_0013573387592128700325 --> C_0001633855435523401023 : //DbResult//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0006960484039840119316 : first() const
activate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : data(int) const
activate C_0006960484039840119316
alt isEmpty() || pos < 0 || pos >= size()
C_0006960484039840119316 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //bool//
deactivate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : **[**size() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //int//
deactivate C_0006960484039840119316
end
C_0006960484039840119316 --> C_0006960484039840119316 : //QJsonObject//
deactivate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0006960484039840119316
C_0001633855435523401023 -> C_0006960484039840119316 : first() const
activate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : data(int) const
activate C_0006960484039840119316
alt isEmpty() || pos < 0 || pos >= size()
C_0006960484039840119316 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //bool//
deactivate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : **[**size() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //int//
deactivate C_0006960484039840119316
end
C_0006960484039840119316 --> C_0006960484039840119316 : //QJsonObject//
deactivate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0006960484039840119316
alt result.isEmpty()
C_0001633855435523401023 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //bool//
deactivate C_0006960484039840119316
C_0001633855435523401023 -> C_0004354387044733077778 : CreateErrorResponse(QJsonObject &,QJsonObject &,QString)
activate C_0004354387044733077778
C_0004354387044733077778 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0004354387044733077778
end
C_0001633855435523401023 -> C_0013573387592128700325 : select(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : table(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : where(const QString &,const QVariant &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : exec()
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
alt query.exec(getSelectQuery())
C_0013573387592128700325 -> C_0013573387592128700325 : **[**getSelectQuery(const QString &)**]**
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QString//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : postQuery(QSqlQuery *)
activate C_0013573387592128700325
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0006960484039840119316 : DbResult(const QList<QVariant> &)
activate C_0006960484039840119316
deactivate C_0006960484039840119316
C_0013573387592128700325 --> C_0001633855435523401023 : //DbResult//
deactivate C_0013573387592128700325
alt result.first().value("password").toString() != password
C_0001633855435523401023 -> C_0006960484039840119316 : **[**first() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : data(int) const
activate C_0006960484039840119316
alt isEmpty() || pos < 0 || pos >= size()
C_0006960484039840119316 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //bool//
deactivate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : **[**size() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //int//
deactivate C_0006960484039840119316
end
C_0006960484039840119316 --> C_0006960484039840119316 : //QJsonObject//
deactivate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0006960484039840119316
C_0001633855435523401023 -> C_0004354387044733077778 : CreateErrorResponse(QJsonObject &,QJsonObject &,QString)
activate C_0004354387044733077778
C_0004354387044733077778 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0004354387044733077778
end
end
loop false
alt !isDBConnectionValid(dbManager)
C_0001633855435523401023 -> C_0004354387044733077778 : **[**isDBConnectionValid(DB::DatabaseManager *)**]**
activate C_0004354387044733077778
alt !DB::DatabaseManager::checkConnection(dbError)
C_0004354387044733077778 -> C_0013573387592128700325 : **[**__checkConnection(QString &)__**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __createInstance(bool,bool,QString *)__
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : DatabaseManager()
activate C_0013573387592128700325
deactivate C_0013573387592128700325
alt db->init(dbConfig.host, dbConfig.port, dbConfig.username, dbConfig.password, dbConfig.dbName, checkDBName, newConnection)
C_0013573387592128700325 -> C_0013573387592128700325 : **[**init(const QString &,int,const QString &,const QString &,const QString &,bool,bool)**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //bool//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
alt err != nullptr
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0004354387044733077778 : //bool//
deactivate C_0013573387592128700325
end
alt !DB::DatabaseManager::checkConnection(dbError)
C_0004354387044733077778 -> C_0013573387592128700325 : **[**__checkConnection(QString &)__**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __createInstance(bool,bool,QString *)__
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : DatabaseManager()
activate C_0013573387592128700325
deactivate C_0013573387592128700325
alt db->init(dbConfig.host, dbConfig.port, dbConfig.username, dbConfig.password, dbConfig.dbName, checkDBName, newConnection)
C_0013573387592128700325 -> C_0013573387592128700325 : **[**init(const QString &,int,const QString &,const QString &,const QString &,bool,bool)**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //bool//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
alt err != nullptr
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0004354387044733077778 : //bool//
deactivate C_0013573387592128700325
end
alt !DB::DatabaseManager::checkConnection(dbError)
C_0004354387044733077778 -> C_0013573387592128700325 : **[**__checkConnection(QString &)__**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __createInstance(bool,bool,QString *)__
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : DatabaseManager()
activate C_0013573387592128700325
deactivate C_0013573387592128700325
alt db->init(dbConfig.host, dbConfig.port, dbConfig.username, dbConfig.password, dbConfig.dbName, checkDBName, newConnection)
C_0013573387592128700325 -> C_0013573387592128700325 : **[**init(const QString &,int,const QString &,const QString &,const QString &,bool,bool)**]**
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //bool//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
alt err != nullptr
C_0013573387592128700325 -> C_0013573387592128700325 : lastError()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlError//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 --> C_0004354387044733077778 : //bool//
deactivate C_0013573387592128700325
end
C_0004354387044733077778 --> C_0001633855435523401023 : //bool//
deactivate C_0004354387044733077778
note over C_0001633855435523401023
comment
end note
C_0001633855435523401023 -> C_0004354387044733077778 : CreateDBConnectionError(QJsonObject &,QJsonObject &)
activate C_0004354387044733077778
C_0004354387044733077778 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0004354387044733077778
end
C_0001633855435523401023 -> C_0013573387592128700325 : select(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : table(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : where(const QString &,const QVariant &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : exec()
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
alt query.exec(getSelectQuery())
C_0013573387592128700325 -> C_0013573387592128700325 : **[**getSelectQuery(const QString &)**]**
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QString//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : postQuery(QSqlQuery *)
activate C_0013573387592128700325
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0006960484039840119316 : DbResult(const QList<QVariant> &)
activate C_0006960484039840119316
deactivate C_0006960484039840119316
C_0013573387592128700325 --> C_0001633855435523401023 : //DbResult//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0006960484039840119316 : first() const
activate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : data(int) const
activate C_0006960484039840119316
alt isEmpty() || pos < 0 || pos >= size()
C_0006960484039840119316 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //bool//
deactivate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : **[**size() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //int//
deactivate C_0006960484039840119316
end
C_0006960484039840119316 --> C_0006960484039840119316 : //QJsonObject//
deactivate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0006960484039840119316
C_0001633855435523401023 -> C_0006960484039840119316 : first() const
activate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : data(int) const
activate C_0006960484039840119316
alt isEmpty() || pos < 0 || pos >= size()
C_0006960484039840119316 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //bool//
deactivate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : **[**size() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //int//
deactivate C_0006960484039840119316
end
C_0006960484039840119316 --> C_0006960484039840119316 : //QJsonObject//
deactivate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0006960484039840119316
alt result.isEmpty()
C_0001633855435523401023 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //bool//
deactivate C_0006960484039840119316
C_0001633855435523401023 -> C_0004354387044733077778 : CreateErrorResponse(QJsonObject &,QJsonObject &,QString)
activate C_0004354387044733077778
C_0004354387044733077778 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0004354387044733077778
end
C_0001633855435523401023 -> C_0013573387592128700325 : select(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : table(const QString &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : where(const QString &,const QVariant &)
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0001633855435523401023 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0001633855435523401023 -> C_0013573387592128700325 : exec()
activate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : __getDatabase()__
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QSqlDatabase//
deactivate C_0013573387592128700325
alt query.exec(getSelectQuery())
C_0013573387592128700325 -> C_0013573387592128700325 : **[**getSelectQuery(const QString &)**]**
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //QString//
deactivate C_0013573387592128700325
end
C_0013573387592128700325 -> C_0013573387592128700325 : reset()
activate C_0013573387592128700325
C_0013573387592128700325 --> C_0013573387592128700325 : //DatabaseManager *//
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0013573387592128700325 : postQuery(QSqlQuery *)
activate C_0013573387592128700325
deactivate C_0013573387592128700325
C_0013573387592128700325 -> C_0006960484039840119316 : DbResult(const QList<QVariant> &)
activate C_0006960484039840119316
deactivate C_0006960484039840119316
C_0013573387592128700325 --> C_0001633855435523401023 : //DbResult//
deactivate C_0013573387592128700325
alt result.first().value("password").toString() != password
C_0001633855435523401023 -> C_0006960484039840119316 : **[**first() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : data(int) const
activate C_0006960484039840119316
alt isEmpty() || pos < 0 || pos >= size()
C_0006960484039840119316 -> C_0006960484039840119316 : **[**isEmpty() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //bool//
deactivate C_0006960484039840119316
C_0006960484039840119316 -> C_0006960484039840119316 : **[**size() const**]**
activate C_0006960484039840119316
C_0006960484039840119316 --> C_0006960484039840119316 : //int//
deactivate C_0006960484039840119316
end
C_0006960484039840119316 --> C_0006960484039840119316 : //QJsonObject//
deactivate C_0006960484039840119316
C_0006960484039840119316 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0006960484039840119316
C_0001633855435523401023 -> C_0004354387044733077778 : CreateErrorResponse(QJsonObject &,QJsonObject &,QString)
activate C_0004354387044733077778
C_0004354387044733077778 --> C_0001633855435523401023 : //QJsonObject//
deactivate C_0004354387044733077778
end
end
[<-- C_0001633855435523401023 : //QJsonObject//
deactivate C_0001633855435523401023

'Generated with clang-uml, version 0.5.3
'LLVM version clang version 18.1.1 (https://github.com/llvm/llvm-project.git dba2a75e9c7ef81fe84774ba5eee5e67e01d801a)
@enduml
