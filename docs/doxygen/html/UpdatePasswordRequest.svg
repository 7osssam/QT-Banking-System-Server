<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1079px" preserveAspectRatio="none" style="width:1159px;height:1079px;background:#FFFFFF;" version="1.1" viewBox="0 0 1159 1079" width="1159px" zoomAndPan="magnify">
  <defs>
    <style type="text/css">a:hover { text-decoration: underline; }</style>
  </defs>
  <g>
    <rect fill="#FFFFFF" height="233.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="203.5" y="114.9609"/>
    <rect fill="#FFFFFF" height="842.4297" style="stroke:#181818;stroke-width:1.0;" width="10" x="787.5" y="145.3125"/>
    <rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="929" y="394.6094"/>
    <rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="929" y="570.2031"/>
    <rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="929" y="745.7969"/>
    <rect fill="none" height="759.7266" style="stroke:#000000;stroke-width:1.5;" width="1142" x="10" y="221.0156"/>
    <rect fill="none" height="533.7813" style="stroke:#000000;stroke-width:1.5;" width="1122" x="20" y="439.9609"/>
    <rect fill="none" height="351.1875" style="stroke:#000000;stroke-width:1.5;" width="1102" x="30" y="615.5547"/>
    <rect fill="none" height="168.5938" style="stroke:#000000;stroke-width:1.5;" width="628" x="40" y="791.1484"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="67" x2="67" y1="82.6094" y2="997.7422"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="208" x2="208" y1="82.6094" y2="997.7422"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="610" x2="610" y1="82.6094" y2="997.7422"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="699" x2="699" y1="82.6094" y2="997.7422"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="792" x2="792" y1="82.6094" y2="997.7422"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="934" x2="934" y1="82.6094" y2="997.7422"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1072" x2="1072" y1="82.6094" y2="997.7422"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="50" y="79.5332">User</text>
    <ellipse cx="67.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M67.5,21.5 L67.5,48.5 M54.5,29.5 L80.5,29.5 M67.5,48.5 L54.5,63.5 M67.5,48.5 L80.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="50" y="1011.2754">User</text>
    <ellipse cx="67.5" cy="1022.8516" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M67.5,1030.8516 L67.5,1057.8516 M54.5,1038.8516 L80.5,1038.8516 M67.5,1057.8516 L54.5,1072.8516 M67.5,1057.8516 L80.5,1072.8516 " fill="none" style="stroke:#181818;stroke-width:0.5;"/>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="122" y="50"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="129" y="71.5332">UpdatePasswordRequest</text>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="122" y="996.7422"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="129" y="1018.2754">UpdatePasswordRequest</text>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="563" y="50"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="570" y="71.5332">QJsonObject</text>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="563" y="996.7422"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="570" y="1018.2754">QJsonObject</text>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="668" y="50"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="675" y="71.5332">QMutex</text>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="668" y="996.7422"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="675" y="1018.2754">QMutex</text>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="740" y="50"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="747" y="71.5332">QMutexLocker</text>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="740" y="996.7422"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="747" y="1018.2754">QMutexLocker</text>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="855" y="50"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="862" y="71.5332">DB::DatabaseManager</text>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="855" y="996.7422"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="862" y="1018.2754">DB::DatabaseManager</text>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="1023" y="50"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1030" y="71.5332">DB::DbResult</text>
    <rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="1023" y="996.7422"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="1030" y="1018.2754">DB::DbResult</text>
    <rect fill="#FFFFFF" height="233.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="203.5" y="114.9609"/>
    <rect fill="#FFFFFF" height="842.4297" style="stroke:#181818;stroke-width:1.0;" width="10" x="787.5" y="145.3125"/>
    <rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="929" y="394.6094"/>
    <rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="929" y="570.2031"/>
    <rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="929" y="745.7969"/>
    <polygon fill="#181818" points="191.5,110.9609,201.5,114.9609,191.5,118.9609,195.5,114.9609" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="67.5" x2="197.5" y1="114.9609" y2="114.9609"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="74.5" y="110.1045">execute(jsonObj, m)</text>
    <polygon fill="#181818" points="775.5,141.3125,785.5,145.3125,775.5,149.3125,779.5,145.3125" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="213.5" x2="781.5" y1="145.3125" y2="145.3125"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="220.5" y="140.4561">QMutexLocker(&amp;m)</text>
    <polygon fill="#181818" points="598.5,171.6641,608.5,175.6641,598.5,179.6641,602.5,175.6641" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="213.5" x2="604.5" y1="175.6641" y2="175.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="220.5" y="170.8076">extract email, password, new_password</text>
    <polygon fill="#181818" points="224.5,202.0156,214.5,206.0156,224.5,210.0156,220.5,206.0156" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="218.5" x2="609.5" y1="206.0156" y2="206.0156"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="230.5" y="201.1592">return credentials</text>
    <path d="M10,221.0156 L71,221.0156 L71,229.3672 L61,239.3672 L10,239.3672 L10,221.0156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="759.7266" style="stroke:#000000;stroke-width:1.5;" width="1142" x="10" y="221.0156"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="235.5107">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="124" x="86" y="234.4346">[DB connection invalid]</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="213.5" x2="255.5" y1="261.7188" y2="261.7188"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="255.5" x2="255.5" y1="261.7188" y2="274.7188"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="214.5" x2="255.5" y1="274.7188" y2="274.7188"/>
    <polygon fill="#181818" points="224.5,270.7188,214.5,274.7188,224.5,278.7188,220.5,274.7188" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="220.5" y="256.8623">isDBConnectionValid(dbManager)</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="213.5" x2="255.5" y1="305.0703" y2="305.0703"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="255.5" x2="255.5" y1="305.0703" y2="318.0703"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="214.5" x2="255.5" y1="318.0703" y2="318.0703"/>
    <polygon fill="#181818" points="224.5,314.0703,214.5,318.0703,224.5,322.0703,220.5,318.0703" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="220.5" y="300.2139">CreateDBConnectionError(response, data)</text>
    <polygon fill="#181818" points="78.5,344.4219,68.5,348.4219,78.5,352.4219,74.5,348.4219" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="207.5" y1="348.4219" y2="348.4219"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="84.5" y="343.5654">return response</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1152" y1="357.4219" y2="357.4219"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114" x="15" y="368.8408">[DB connection valid]</text>
    <polygon fill="#181818" points="917,390.6094,927,394.6094,917,398.6094,921,394.6094" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="208.5" x2="923" y1="394.6094" y2="394.6094"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="215.5" y="389.7529">select("*").table("users").where("email =", email).exec()</text>
    <polygon fill="#181818" points="1060.5,420.9609,1070.5,424.9609,1060.5,428.9609,1064.5,424.9609" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="934" x2="1066.5" y1="424.9609" y2="424.9609"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="941" y="420.1045">return user data</text>
    <path d="M20,439.9609 L81,439.9609 L81,448.3125 L71,458.3125 L20,458.3125 L20,439.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="533.7813" style="stroke:#000000;stroke-width:1.5;" width="1122" x="20" y="439.9609"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="454.4561">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="90" x="96" y="453.3799">[user not found]</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="208.5" x2="250.5" y1="480.6641" y2="480.6641"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="250.5" x2="250.5" y1="480.6641" y2="493.6641"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="209.5" x2="250.5" y1="493.6641" y2="493.6641"/>
    <polygon fill="#181818" points="219.5,489.6641,209.5,493.6641,219.5,497.6641,215.5,493.6641" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="324" x="215.5" y="475.8076">CreateErrorResponse(response, data, "email not found")</text>
    <polygon fill="#181818" points="78.5,520.0156,68.5,524.0156,78.5,528.0156,74.5,524.0156" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="207.5" y1="524.0156" y2="524.0156"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="84.5" y="519.1592">return response</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1142" y1="533.0156" y2="533.0156"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69" x="25" y="544.4346">[user found]</text>
    <polygon fill="#181818" points="917,566.2031,927,570.2031,917,574.2031,921,570.2031" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="208.5" x2="923" y1="570.2031" y2="570.2031"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="215.5" y="565.3467">select("password").table("users").where("id =", user_id).exec()</text>
    <polygon fill="#181818" points="1060.5,596.5547,1070.5,600.5547,1060.5,604.5547,1064.5,600.5547" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="934" x2="1066.5" y1="600.5547" y2="600.5547"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="941" y="595.6982">return password</text>
    <path d="M30,615.5547 L91,615.5547 L91,623.9063 L81,633.9063 L30,633.9063 L30,615.5547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="351.1875" style="stroke:#000000;stroke-width:1.5;" width="1102" x="30" y="615.5547"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="45" y="630.0498">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102" x="106" y="628.9736">[password invalid]</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="208.5" x2="250.5" y1="656.2578" y2="656.2578"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="250.5" x2="250.5" y1="656.2578" y2="669.2578"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="209.5" x2="250.5" y1="669.2578" y2="669.2578"/>
    <polygon fill="#181818" points="219.5,665.2578,209.5,669.2578,219.5,673.2578,215.5,669.2578" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="215.5" y="651.4014">CreateErrorResponse(response, data, "Invalid password")</text>
    <polygon fill="#181818" points="78.5,695.6094,68.5,699.6094,78.5,703.6094,74.5,699.6094" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="207.5" y1="699.6094" y2="699.6094"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="84.5" y="694.7529">return response</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="1132" y1="708.6094" y2="708.6094"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="92" x="35" y="720.0283">[password valid]</text>
    <polygon fill="#181818" points="917,741.7969,927,745.7969,917,749.7969,921,745.7969" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="208.5" x2="923" y1="745.7969" y2="745.7969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="409" x="215.5" y="740.9404">update("users", {{"password", new_password}}).where("email =", email)</text>
    <polygon fill="#181818" points="1060.5,772.1484,1070.5,776.1484,1060.5,780.1484,1064.5,776.1484" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="934" x2="1066.5" y1="776.1484" y2="776.1484"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="941" y="771.292">return success</text>
    <path d="M40,791.1484 L101,791.1484 L101,799.5 L91,809.5 L40,809.5 L40,791.1484 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="168.5938" style="stroke:#000000;stroke-width:1.5;" width="628" x="40" y="791.1484"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="55" y="805.6436">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="79" x="116" y="804.5674">[update failed]</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="208.5" x2="250.5" y1="831.8516" y2="831.8516"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="250.5" x2="250.5" y1="831.8516" y2="844.8516"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="209.5" x2="250.5" y1="844.8516" y2="844.8516"/>
    <polygon fill="#181818" points="219.5,840.8516,209.5,844.8516,219.5,848.8516,215.5,844.8516" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="388" x="215.5" y="826.9951">CreateErrorResponse(response, data, "Failed to update password")</text>
    <polygon fill="#181818" points="78.5,871.2031,68.5,875.2031,78.5,879.2031,74.5,875.2031" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="207.5" y1="875.2031" y2="875.2031"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="84.5" y="870.3467">return response</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40" x2="668" y1="884.2031" y2="884.2031"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110" x="45" y="895.6221">[update successful]</text>
    <polygon fill="#181818" points="598.5,917.3906,608.5,921.3906,598.5,925.3906,602.5,921.3906" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="208.5" x2="604.5" y1="921.3906" y2="921.3906"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="215.5" y="916.5342">construct success response</text>
    <polygon fill="#181818" points="78.5,947.7422,68.5,951.7422,78.5,955.7422,74.5,951.7422" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="72.5" x2="609.5" y1="951.7422" y2="951.7422"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="84.5" y="946.8857">return response</text>
  </g>
</svg>
